<div class="page-header">
  <div class="add-item d-flex">
    <div class="page-title">
      <h4>Product List</h4>
      <h6>Manage your products</h6>
    </div>
  </div>
  <ul class="table-top-head">
    <li>
      <a data-bs-toggle="tooltip" data-bs-placement="top" matTooltip="Pdf" matTooltipPosition="above">
        <img src="assets/img/icons/pdf.svg" alt="img"></a>
    </li>
    <li>
      <a data-bs-toggle="tooltip" data-bs-placement="top" matTooltip="Excel" matTooltipPosition="above">
        <img src="assets/img/icons/excel.svg" alt="img"></a>
    </li>
    <li>
      <a data-bs-toggle="tooltip" data-bs-placement="top" matTooltip="Print" matTooltipPosition="above">
        <i-feather name="printer" class="feather icon-printer feather-rotate-ccw"></i-feather></a>
    </li>
    <li>
      <a data-bs-toggle="tooltip" data-bs-placement="top" matTooltip="Refresh" matTooltipPosition="above">
        <i-feather name="rotate-ccw"  class="feather icon-rotate-ccw feather-rotate-ccw"></i-feather></a>
    </li>
    <li>
      <a (click)="toggleCollapse()" data-bs-toggle="tooltip" data-bs-placement="top" matTooltip="Collapse"
        matTooltipPosition="above" id="collapse-header"> @if (!isCollapsed) {
        <i-feather name="chevron-up" class="feather icon-chevron-up feather-chevron-up"></i-feather>
        }
        @if (isCollapsed) {
        <i-feather name="chevron-down" class="feather icon-chevron-down feather-chevron-down"></i-feather>
        }</a>
    </li>
  </ul>
  <div class="page-btn">
    <a [routerLink]="routes.addProduct" class="btn btn-added"><i class="feather icon-plus-circle"></i>Agregar nuevo
      producto</a>
  </div>
  <div class="page-btn import">
    <a href="javascript:void(0);" class="btn btn-added color" data-bs-toggle="modal" data-bs-target="#view-notes">
      <i-feather name="download" class="feather icon-download me-2"></i-feather>Import Product</a>
  </div>
</div>

<!-- /product list -->

<div class="card table-list-card">
  <div class="card-body">
    <div class="table-top">
      <div class="search-set">
        <div class="search-input">
          <a href="javascript:void(0);" class="btn btn-searchset"><i-feather name="search" class="feather icon-search feather-search"></i-feather></a>
          <div class="dataTables_filter">
            <label>
              <input [(ngModel)]="searchDataValue" (ngModelChange)="searchData(searchDataValue)" type="search"
                class="form-control" placeholder="Search..." />
            </label>
          </div>
        </div>
      </div>
      <div class="search-path">
        <a class="btn btn-filter" id="filter_search" (click)="openFilter()" [ngClass]="{'setclose': filter === true}">
          <i-feather name="filter" class="feather icon-filter filter-icon"></i-feather>
          <span><img src="assets/img/icons/closes.svg" alt="img"></span>
        </a>
      </div>
      <div class="form-sort">
        <i-feather name="sliders" class="feather icon-sliders info-img"></i-feather>
        <mat-select [(ngModel)]="selectedValue1" [ngModelOptions]="{standalone: true}" class="space-select select"
          placeholder="Sort by Date">
          <mat-option value="Sort by Date">Sort by Date</mat-option>
          <mat-option value="14 09 23">14 09 23</mat-option>
          <mat-option value="11 09 23">11 09 23</mat-option>
        </mat-select>
      </div>
    </div>
    <!-- /Filter -->
    <div class="card mb-0" id="filter_inputs" [ngClass]="{'d-block': filter, 'd-none': !filter}">
      <div class="card-body pb-0">
        <div class="row">
          <div class="col-lg-12 col-sm-12">
            <div class="row">
              <div class="col-lg-2 col-sm-6 col-12">
                <div class="input-blocks">
                  <i class="feather icon-box info-img"></i>
                  <mat-select [(ngModel)]="selectedValue2" [ngModelOptions]="{standalone: true}"
                    class="space-select select" placeholder="Choose Product">
                    <mat-option value="Choose Product">Choose Product</mat-option>
                    <mat-option value="Lenovo 3rd Generation">Lenovo 3rd Generation</mat-option>
                    <mat-option value="Nike Jordan">Nike Jordan</mat-option>
                  </mat-select>
                </div>
              </div>
              <div class="col-lg-2 col-sm-6 col-12">
                <div class="input-blocks">
                  <i class="feather icon-stop-circle info-img"></i>
                  <mat-select [(ngModel)]="selectedValue3" [ngModelOptions]="{standalone: true}"
                    class="space-select select" placeholder="Choose Category">
                    <mat-option value="Choose Category">Choose Category</mat-option>
                    <mat-option value="Laptop">Laptop</mat-option>
                    <mat-option value="Shoe">Shoe</mat-option>
                  </mat-select>
                </div>
              </div>

              <div class="col-lg-2 col-sm-6 col-12">
                <div class="input-blocks">
                  <i class="feather icon-git-merge info-img"></i>
                  <mat-select [(ngModel)]="selectedValue4" [ngModelOptions]="{standalone: true}"
                    class="space-select select" placeholder="Choose Sub Category">
                    <mat-option value="Choose Sub Category">Choose Sub Category</mat-option>
                    <mat-option value="Computers">Computers</mat-option>
                    <mat-option value="Fruits">Fruits</mat-option>
                  </mat-select>
                </div>
              </div>

              <div class="col-lg-2 col-sm-6 col-12">
                <div class="input-blocks">
                  <i class="feather icon-stop-circle info-img"></i>
                  <mat-select [(ngModel)]="selectedValue5" [ngModelOptions]="{standalone: true}"
                    class="space-select select" placeholder="All Brand">
                    <mat-option value="All Brand">All Brand</mat-option>
                    <mat-option value="Lenovo">Lenovo</mat-option>
                    <mat-option value="Nike">Nike</mat-option>
                  </mat-select>
                </div>
              </div>

              <div class="col-lg-2 col-sm-6 col-12">
                <div class="input-blocks">
                  <i class="fas fa-money-bill info-img"></i>
                  <mat-select [(ngModel)]="selectedValue6" [ngModelOptions]="{standalone: true}"
                    class="space-select select" placeholder="Price">
                    <mat-option value="Price">Price</mat-option>
                    <mat-option value="$12500.00">$12500.00</mat-option>
                    <mat-option value="$12500.00">$12500.00</mat-option>
                  </mat-select>
                </div>
              </div>
              <div class="col-lg-2 col-sm-6 col-12">
                <div class="input-blocks">
                  <a class="btn btn-filters ms-auto"> <i-feather name="search" class="feather icon-search feather-search"></i-feather> Search </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- /Filter -->
    <div class="table-responsive product-list">
      <table class="table datanew">
        <tr matSort (matSortChange)="sortData($event)">
          <th class="no-sort">
            <label class="checkboxs d-flex justify-content-center" (click)="selectAll(initChecked)">
              <input type="checkbox" id="select-all" [(ngModel)]="initChecked">
              <span class="checkmarks"></span>
            </label>
          </th>
          <th mat-sort-header="SKU">SKU</th>
          <th mat-sort-header="see">
            <i-feather name="eye" class="feather icon-eye feather-eye"></i-feather>
          </th>
          <th mat-sort-header="product">Producto</th>
          <!-- <th mat-sort-header="category">Categoria</th> -->
          <th mat-sort-header="purchasePrice">Costo compra</th>
          <th mat-sort-header="salesPrice">Precio venta</th>
          <th mat-sort-header="deliveryPrice">Precio Domicilio</th>
          <th mat-sort-header="description">Descripci√≥n</th>
          <th mat-sort-header="state">Estado</th>
          <th class="no-sort">Acciones</th>
        </tr>
        <tbody>
          @for (data of tableData; track data) {
          <tr>
            <td>
              <label class="checkboxs">
                <input type="checkbox" [(ngModel)]="data.isSelected">
                <span class="checkmarks"></span>
              </label>
            </td>
            <td>{{data.prodCode}}</td>
            <td>
              <label class="checkboxs">
                <input type="checkbox" [(ngModel)]="data.prodStatusAffectInventory">
                <span class="checkmarks"></span>
              </label>
            </td>
            <td>
              <div class="productimgname">
                <a href="javascript:void(0);" class="product-img stock-img">
                  <img [src]="data.prodImage" alt="product">
                </a>
                <a href="javascript:void(0);">{{data.prodName}} </a>
              </div>
            </td>
            <!-- <td>{{data.category}}</td> -->
            <td>{{data.prodBasePrice}}</td>
            <td>{{data.prodCostPrice}}</td>
            <td>{{data.prodAverageCost}}</td>
            <td>{{data.prodDescription}}</td>
            <td>{{data.prodStatus ? 'Activo' : 'Inactivo'}}</td>
            <td class="action-table-data">
              <div class="edit-delete-action">
                <a class="me-2 edit-icon  p-2" [routerLink]="routes.productDetails">
                  <i-feather name="eye" class="feather icon-eye feather-eye"></i-feather>
                </a>
                <a class="me-2 p-2" [routerLink]="routes.productById + data.idProduct">
                  <i-feather name="edit" class="feather icon-edit feather-edit"></i-feather>
                </a>
                <a class="confirm-text p-2" href="javascript:void(0);"   (click)="deleteProduct(data.idProduct)">
                  <i-feather name="trash" class="feather icon-trash-2 feather-trash-2"></i-feather>
                </a>
              </div>
            </td>
          </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</div>
<!-- /product list -->